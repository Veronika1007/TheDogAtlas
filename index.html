<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>TheDogAtlas – Dog‑Friendly Map</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <div class="brand">
        <img
          src="Media/Logo.png"
          alt="TheDogAtlas Logo"
          style="height: 36px; width: auto"
        />
        <div>
          <div style="font-weight: 700; font-size: 16px">TheDogAtlas</div>
          <div style="font-size: 11px; color: var(--muted)">
            The dog-first travel platform
          </div>
        </div>
      </div>
      <nav>
        <a href="index.html" class="nav-link active">Map</a>
        <a href="planner.html" class="nav-link">Planner</a>
        <a href="trails.html" class="nav-link">Trails</a>
        <a href="community.html" class="nav-link">Community</a>
      </nav>
    </header>

    <main class="central-container">
      <section class="hero-simple">
        <h1>Find dog‑friendly pubs, stays & walking trails in seconds.</h1>
        <p>Hertfordshire Beta · Verified Venues Only</p>

        <form
          class="hero-form"
          onsubmit="event.preventDefault(); demoSearch();"
        >
          <input
            id="whereInput"
            type="text"
            placeholder="Location (e.g. St Albans)"
            value="St Albans"
            class="main-search-input"
          />

          <div id="categoryFilters" class="reactive-filter-grid">
            <div class="filter-group">
              <h4>Food & Drink</h4>
              <div class="filter-options">
                <label class="filter-option"
                  ><input type="checkbox" value="cafe" /> Cafe</label
                >
                <label class="filter-option"
                  ><input type="checkbox" value="pub" /> Pubs & Bars</label
                >
                <label class="filter-option"
                  ><input type="checkbox" value="restaurant" />
                  Restaurants</label
                >
              </div>
            </div>
            <div class="filter-group">
              <h4>Retail</h4>
              <div class="filter-options">
                <label class="filter-option"
                  ><input type="checkbox" value="shop" /> Shops</label
                ><label class="filter-option"
                  ><input type="checkbox" value="pet-store" /> Florist</label
                >
                <label class="filter-option"
                  ><input type="checkbox" value="pet-store" /> Butcher</label
                >
                <label class="filter-option"
                  ><input type="checkbox" value="pet-store" /> Pet Stores</label
                >
              </div>
            </div>
            <div class="filter-group">
              <h4>Experience</h4>
              <div class="filter-options">
                <label class="filter-option"
                  ><input type="checkbox" value="attraction" />
                  Attractions</label
                >
                <label class="filter-option"
                  ><input type="checkbox" value="park" /> Parks</label
                >
                <label class="filter-option"
                  ><input type="checkbox" value="beach" /> Beaches</label
                >
              </div>
            </div>
            <div class="filter-group">
              <h4>Dog Services</h4>
              <div class="filter-options">
                <label class="filter-option"
                  ><input type="checkbox" value="vet" /> Vets</label
                >
                <label class="filter-option"
                  ><input type="checkbox" value="groomer" /> Groomers</label
                >
                <label class="filter-option"
                  ><input type="checkbox" value="service" /> Daycare</label
                >
                <label class="filter-option"
                  ><input type="checkbox" value="trainer" /> Trainers</label
                >
              </div>
            </div>
          </div>
          <button type="submit" class="search-submit-btn">
            Search & Filter Map
          </button>
        </form>
      </section>

      <div class="side-by-side-layout">
        <div class="results-panel">
          <h2>Search Results</h2>
          <div class="results" id="resultsBox"></div>
        </div>
        <div class="map-panel">
          <div id="mapBox"></div>
        </div>
      </div>
    </main>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
      const map = L.map("mapBox").setView([51.7527, -0.3394], 13);
      L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        attribution: "&copy; OpenStreetMap",
      }).addTo(map);
      let markersLayer = L.layerGroup().addTo(map);
      const demoVenues = [
        {
          name: "The Wagging Tail Pub",
          type: "pub",
          lat: 51.75,
          lng: -0.34,
          note: "Verified garden seating.",
        },
        {
          name: "Paws & Beans Café",
          type: "cafe",
          lat: 51.753,
          lng: -0.335,
          note: "Indoor dogs welcome.",
        },
      ];
      function demoSearch() {
        const selectedCats = Array.from(
          document.querySelectorAll("#categoryFilters input:checked")
        ).map((cb) => cb.value);
        let filtered = demoVenues.filter(
          (v) => selectedCats.length === 0 || selectedCats.includes(v.type)
        );
        markersLayer.clearLayers();
        filtered.forEach((v) => {
          L.marker([v.lat, v.lng])
            .addTo(markersLayer)
            .bindPopup(`<b>${v.name}</b><br>${v.note}`);
        });
        document.getElementById("resultsBox").innerHTML =
          filtered
            .map(
              (v) =>
                `<div class="result-card"><div><h3>${
                  v.name
                }</h3><small>${v.type.toUpperCase()}</small><p>${
                  v.note
                }</p></div></div>`
            )
            .join("") || "<p>No results found.</p>";
      }
      demoSearch();
    </script>
  </body>

  <footer>
    <div class="footer-links">
      <a href="Footer/privacy.html">Privacy Policy</a>
      <a href="Footer/terms.html">Terms of Service</a>
      <a href="Footer/cookies.html">Cookie Policy</a>
      <a href="Footer/contact.html">Contact</a>
      <a href="Footer/about.html">About Us</a>
    </div>
    <div class="copyright">
      &copy; 2024 TheDogAtlas. The dog-first travel platform.
      <br />Always check with venues directly for current dog policies.
    </div>
  </footer>
</html>
